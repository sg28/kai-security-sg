import {
    Dialog,
    DialogTitle,
    DialogContent,
    Typography,
    DialogActions,
    Button,
  } from '@mui/material';
  import { Vulnerability } from '../../types/vulnerability';
  
  interface CveDetailModalProps {
    open: boolean;
    onClose: () => void;
    vulnerability: Vulnerability | null;
  }
  
  export function CveDetailModal({ open, onClose, vulnerability }: CveDetailModalProps) {
    if (!vulnerability) return null;
  
    return (
      <Dialog open={open} onClose={onClose} maxWidth="md" fullWidth>
        <DialogTitle>{vulnerability.cveId}</DialogTitle>
        <DialogContent dividers>
          <Typography><strong>Package:</strong> {vulnerability.packageName}</Typography>
          <Typography><strong>Severity:</strong> {vulnerability.severity}</Typography>
          <Typography><strong>Risk Score:</strong> {vulnerability.riskScore}</Typography>
          <Typography><strong>KAI Status:</strong> {vulnerability.kaiStatus}</Typography>
          <Typography><strong>Published:</strong> {vulnerability.publishedDate}</Typography>
          <Typography><strong>Affected Versions:</strong> {vulnerability.affectedVersions?.join(', ')}</Typography>
          <Typography><strong>CWE:</strong> {vulnerability.cwe?.join(', ')}</Typography>
          <Typography sx={{ mt: 2 }}><strong>Description:</strong></Typography>
          <Typography>{(vulnerability as any).description || 'N/A'}</Typography>
        </DialogContent>
        <DialogActions>
          <Button onClick={onClose}>Close</Button>
        </DialogActions>
      </Dialog>
    );
  }
  